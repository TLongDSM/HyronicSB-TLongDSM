AoF_SE_CowAmbient:
  Skills:
  - switch{condition=mythicmobtype{t=<case>};cases=
        case pb_aof_dairy_cow_male,pb_aof_dairy_cow_female,pb_aof_brown_cow_male,pb_aof_brown_cow_female=[
          - sound{s=entity.cow.ambient} @self
          ]
        case pb_aof_dairy_cow_baby,pb_aof_brown_cow_baby=[
          - sound{s=entity.cow.ambient;p=2} @self
          ]
        } @self
  
AoF_SE_CowHurt:
  Skills:
  - switch{condition=mythicmobtype{t=<case>};cases=
        case pb_aof_dairy_cow_male,pb_aof_dairy_cow_female,pb_aof_brown_cow_male,pb_aof_brown_cow_female=[
          - sound{s=entity.cow.hurt} @self
          ]
        case pb_aof_dairy_cow_baby,pb_aof_brown_cow_baby=[
          - sound{s=entity.cow.hurt;p=2} @self
          ]
        } @self

AoF_SE_CowDeath:
  Skills:
  - sound{s=entity.cow.death} @self

AoF_SE_CowDeath_Baby:
  Skills:
  - sound{s=entity.cow.death;p=2} @self

##
AoF_SE_ChickenAmbient:
  Skills:
  - switch{condition=mythicmobtype{t=<case>};cases=
        case pb_aof_rooster_white,pb_aof_rooster_brown,pb_aof_hen_white,pb_aof_hen_brown=[
          - sound{s=entity.chicken.ambient} @self
          ]
        case pb_aof_chick_baby=[
          - sound{s=entity.chicken.ambient;p=2} @self
          ]
        } @self
  
AoF_SE_ChickenHurt:
  Skills:
  - switch{condition=mythicmobtype{t=<case>};cases=
        case pb_aof_rooster_white,pb_aof_rooster_brown,pb_aof_hen_white,pb_aof_hen_brown=[
          - sound{s=entity.chicken.hurt} @self
          ]
        case pb_aof_chick_baby=[
          - sound{s=entity.chicken.hurt;p=2} @self
          ]
        } @self

AoF_SE_ChickenDeath:
  Skills:
  - sound{s=entity.chicken.death} @self

AoF_SE_ChickenDeath_Baby:
  Skills:
  - sound{s=entity.chicken.death;p=2} @self
  
##
AoF_SE_SheepAmbient:
  Skills:
  - switch{condition=mythicmobtype{t=<case>};cases=
        case pb_aof_sheep_male,pb_aof_sheep_female=[
          - sound{s=entity.sheep.ambient} @self
          ]
        case pb_aof_sheep_baby=[
          - sound{s=entity.sheep.ambient;p=2} @self
          ]
        } @self
  
AoF_SE_SheepHurt:
  Skills:
  - switch{condition=mythicmobtype{t=<case>};cases=
        case pb_aof_sheep_male,pb_aof_sheep_female=[
          - sound{s=entity.sheep.hurt} @self
          ]
        case pb_aof_sheep_baby=[
          - sound{s=entity.sheep.hurt;p=2} @self
          ]
        } @self


AoF_SE_SheepDeath:
  Skills:
  - sound{s=entity.sheep.death} @self

AoF_SE_SheepDeath_Baby:
  Skills:
  - sound{s=entity.sheep.death;p=2} @self
  
##
AoF_SE_PigAmbient:
  Skills:
  - switch{condition=mythicmobtype{t=<case>};cases=
        case pb_aof_pig_male,pb_aof_pig_female=[
          - sound{s=entity.pig.ambient} @self
          ]
        case pb_aof_pig_baby=[
          - sound{s=entity.pig.ambient;p=2} @self
          ]
        } @self
  
AoF_SE_PigHurt:
  Skills:
  - switch{condition=mythicmobtype{t=<case>};cases=
        case pb_aof_pig_male,pb_aof_pig_female=[
          - sound{s=entity.pig.hurt} @self
          ]
        case pb_aof_pig_baby=[
          - sound{s=entity.pig.hurt;p=2} @self
          ]
        } @self

AoF_SE_PigDeath:
  Skills:
  - sound{s=entity.pig.death} @self

AoF_SE_PigDeath_Baby:
  Skills:
  - sound{s=entity.pig.death;p=2} @self

AoF_Despawn:
  Skills:
  - remove @self

##======[Goal & Targetting Resets]=======
AoF_StopFollowingPlayer:
  TargetConditions:
  - isPlayer{}
  Skills:
  - skill{s=AoF_ResetTargeting}

AoF_StopFollowingMate:
  Skills:
  - runaitargetselector{target=clear}

AoF_ResetTargeting:
  Skills:
  - runaitargetselector{target=clear}
  - switch{condition=mythicmobtype{t=<case>};cases=
        case pb_aof_dairy_cow_male,pb_aof_dairy_cow_female,pb_aof_brown_cow_male,pb_aof_brown_cow_female,pb_aof_sheep_male,pb_aof_sheep_female=[
          - runaitargetselector{target=nearestConditionalTarget{conditions=[
            - isPlayer{}
            - holding{m=WHEAT}
            - targetwithin{d=8} 
            ]}}
          ]
        case pb_aof_rooster_white,pb_aof_hen_white,pb_aof_rooster_brown,pb_aof_hen_brown=[
          - runaitargetselector{target=nearestConditionalTarget{conditions=[
            - isPlayer{}
            - holding{m=WHEAT_SEEDS}
            - targetwithin{d=8} 
            ]}}
          - runaitargetselector{target=nearestConditionalTarget{conditions=[
            - isPlayer{}
            - holding{m=BEETROOT_SEEDS}
            - targetwithin{d=8} 
            ]}}
          - runaitargetselector{target=nearestConditionalTarget{conditions=[
            - isPlayer{}
            - holding{m=MELON_SEEDS}
            - targetwithin{d=8} 
            ]}}
          - runaitargetselector{target=nearestConditionalTarget{conditions=[
            - isPlayer{}
            - holding{m=PUMPKIN_SEEDS}
            - targetwithin{d=8} 
            ]}}
          - runaitargetselector{target=nearestConditionalTarget{conditions=[
            - isPlayer{}
            - holding{m=TORCHFLOWER_SEEDS}
            - targetwithin{d=8} 
            ]}}
          ]
        case pb_aof_pig_male,pb_aof_pig_female,pb_aof_spotted_pig_male,pb_aof_spotted_pig_female=[
          - runaitargetselector{target=nearestConditionalTarget{conditions=[
            - isPlayer{}
            - holding{m=CARROT}
            - targetwithin{d=8} 
            ]}}
          ]
        } @self

AoF_ResetGoal:
  Conditions:
  - isbaby{} castinstead AoF_ResetGoal_Baby
  Skills:
  - runaigoalselector{target=clear}
  - runaigoalselector{target=meleeattack}
  - runaigoalselector{target=randomlookaround}
  - runaigoalselector{target=randomstroll}
  - runaigoalselector{target=lookatplayers}
  - runaigoalselector{target=float}

AoF_ResetGoal_Baby:
  Skills:
  - runaigoalselector{target=clear}
  - runaigoalselector{target=gotoparent}
  - runaigoalselector{target=meleeattack}
  - runaigoalselector{target=randomlookaround}
  - runaigoalselector{target=randomstroll}
  - runaigoalselector{target=lookatplayers}
  - runaigoalselector{target=float}

##======[Sleeping]=======
AoF_Sleep:
  Conditions:
  - (stance{s=Mating} || hasaura{n=sleeping} || hasaura{n=flee}) false
  Skills:
  - Aura{
    auraName=sleeping;
    onStart=[
        - state{s=sleep} @self
        - defaultstate{m=<caster.mythic_type>;t=IDLE;s=idle_sleep;delay=19} @self
        - runaigoalselector{target=clear}
        ];
    onEnd=[
        - state{s=wake_up} @self
        - defaultstate{m=<caster.mythic_type>;t=IDLE;s=idle} @self
        - skill{s=AoF_ResetGoal}
        ];
    duration=24000;
    mergeAll=true} @self

AoF_WakeUp:
  Conditions:
  - hasaura{n=sleeping}
  - stance{s=Mating} false
  Skills:
  - auraremove{aura=sleeping} @self

AoF_WakeUp_onLoad:
  Skills:
  - Aura{
    auraName=sleeping;
    onEnd=[
        - defaultstate{m=<caster.mythic_type>;t=IDLE;s=idle} @self
        ];
    duration=1;
    mergeAll=true} @self
  
##======[Feeding & Mating]=======
AoF_FeedItem:
  Cooldown: 300
  Conditions:
  - stance{s=mated} false
  Skills:
  - setstance{s=fed} @self
  - consumeslot{slot=HAND;amount=1} @trigger
  - effect:particles{particle=heart;amount=4;hS=0.5;vS=0.5;y=0.5} @self
  - switch{condition=mythicmobtype{t=<case>};cases=
        case pb_aof_dairy_cow_male,pb_aof_dairy_cow_female=[
          - sudoskill{s=AoF_MatingPairingHit;setcasterastrigger=true} @MobsInRadius{r=8;types=pb_aof_dairy_cow_male,pb_aof_dairy_cow_female;conditions=[
                              - stance{s=fed} 
                            ];limit=1;sort=NEAREST}
          ]
        case pb_aof_brown_cow_male,pb_aof_brown_cow_female=[
         - sudoskill{s=AoF_MatingPairingHit;setcasterastrigger=true} @MobsInRadius{r=8;types=pb_aof_brown_cow_male,pb_aof_brown_cow_female;conditions=[
                              - stance{s=fed} 
                            ];limit=1;sort=NEAREST}
          ]
        case pb_aof_rooster_white,pb_aof_hen_white,pb_aof_rooster_brown,pb_aof_hen_brown=[
         - sudoskill{s=AoF_MatingPairingHit;setcasterastrigger=true} @MobsInRadius{r=8;types=pb_aof_rooster_white,pb_aof_hen_white,pb_aof_rooster_brown,pb_aof_hen_brown;conditions=[
                              - stance{s=fed} 
                            ];limit=1;sort=NEAREST}
          ]
        case pb_aof_sheep_male,pb_aof_sheep_female=[
         - sudoskill{s=AoF_MatingPairingHit;setcasterastrigger=true} @MobsInRadius{r=8;types=pb_aof_sheep_male,pb_aof_sheep_female;conditions=[
                              - stance{s=fed} 
                            ];limit=1;sort=NEAREST}
          ]
        case pb_aof_pig_male,pb_aof_pig_female=[
         - sudoskill{s=AoF_MatingPairingHit;setcasterastrigger=true} @MobsInRadius{r=8;types=pb_aof_pig_male,pb_aof_pig_female;conditions=[
                              - stance{s=fed} 
                            ];limit=1;sort=NEAREST}
          ]
        case pb_aof_spotted_pig_male,pb_aof_spotted_pig_female=[
         - sudoskill{s=AoF_MatingPairingHit;setcasterastrigger=true} @MobsInRadius{r=8;types=pb_aof_spotted_pig_male,pb_aof_spotted_pig_female;conditions=[
                              - stance{s=fed} 
                            ];limit=1;sort=NEAREST}
          ]
        } @self
  
AoF_MatingPairingHit:
  Skills:
  - setstance{s=mating} @self
  - runaitargetselector{target=clear} @self
  - settarget @trigger
  - sudoskill{s=AoF_InitiateMating;setcasterastrigger=true} @trigger

AoF_InitiateMating:
  Skills:
  - setstance{s=mating} @self
  - runaitargetselector{target=clear} @self
  - settarget @trigger
  - skill{s=AoF_Mating;repeat=4;repeatInterval=20} @trigger
  
AoF_Mating:
  TriggerConditions:
  - distance{d=<2}
  - stance{s=mating}
  Conditions:
  - stance{s=mating}
  Skills:
  - setstance{s=mated} @self
  - setstance{s=mated} @target
  - effect:particles{particle=heart;amount=4;hS=0.5;vS=0.5;y=0.5;repeat=1;repeatInterval=20} @self
  - delay 60
  - switch{condition=mythicmobtype{t=<case>};cases=
        case pb_aof_dairy_cow_male,pb_aof_dairy_cow_female=[
          - summon{t=pb_aof_dairy_cow_baby;amount=1;radius=0} @self  
          ]
        case pb_aof_brown_cow_male,pb_aof_brown_cow_female=[
          - summon{t=pb_aof_brown_cow_baby;amount=1;radius=0} @self
          ]
        case pb_aof_rooster_white,pb_aof_hen_white,pb_aof_rooster_brown,pb_aof_hen_brown=[
          - summon{t=pb_aof_chick_baby;amount=1;radius=0} @self  
          ]
        case pb_aof_sheep_male,pb_aof_sheep_female=[
          - summon{t=pb_aof_sheep_baby;amount=1;radius=0} @self
          ]
        case pb_aof_pig_male,pb_aof_pig_female=[
          - summon{t=pb_aof_pig_baby;amount=1;radius=0} @self
          ]
        case pb_aof_spotted_pig_male,pb_aof_spotted_pig_female=[
          - summon{t=pb_aof_spotted_pig_baby;amount=1;radius=0} @self
          ]
        } @self
  - dropitem{i=AoF_MatingXP} @self
  - sudoskill{s=AoF_StopFollowingMate} @target
  - skill{s=AoF_StopFollowingMate} @self

AoF_MatingRecovery:
  Conditions:
  - stance{s=mated}
  - skillOnCooldown{skill=AoF_FeedItem} false
  Skills:
  - setstance{s=ready} @self
  - skill{s=AoF_ResetTargeting}

##======[Grow Up Timer]=======
AoF_GrowUpCounter:
  Conditions:
  - score{o=growCounter;v=>30} castinstead AoF_GrowUp
  Skills:
  - modifytargetscore{objective=growCounter;action=add;value=1} @self

AoF_GrowUp:
  Conditions:
  - stance{s=grown} false
  Skills:
  - setstance{s=grown} @self
  - model{remove=true} @self
  - switch{condition=mythicmobtype{t=<case>};cases=
        case pb_aof_dairy_cow_baby=[
          - randomskill{skills=AoF_SummonDairyCowMale,AoF_SummonDairyCowFemale}  
          ]
        case pb_aof_brown_cow_baby=[
          - randomskill{skills=AoF_SummonBrownCowMale,AoF_SummonBrownCowFemale}  
          ]
        case pb_aof_chick_baby=[
          - randomskill{skills=AoF_SummonWhiteHen,AoF_SummonWhiteRooster,AoF_SummonBrownHen,AoF_SummonBrownRooster}  
          ]
        case pb_aof_sheep_baby=[
          - randomskill{skills=AoF_SummonSheepMale,AoF_SummonSheepFemale}
          ]
        case pb_aof_pig_baby=[
          - randomskill{skills=AoF_SummonPigMale,AoF_SummonPigFemale}
          ]
        case pb_aof_spotted_pig_baby=[
          - randomskill{skills=AoF_SummonSpottedPigMale,AoF_SummonSpottedPigFemale}
          ]
        } @self
  - remove @self

chicken_summon:
  Conditions:
  - world{w=world_islands} true
  Skills:
  - randomskill{skills=AoF_SummonWhiteHen,AoF_SummonWhiteRooster,AoF_SummonBrownHen,AoF_SummonBrownRooster} @self ~onSpawn
cow_summon:
  Conditions:
  - world{w=world_islands} true
  Skills:
  - randomskill{skills=AoF_SummonDairyCowMale,AoF_SummonDairyCowFemale,AoF_SummonBrownCowMale,AoF_SummonBrownCowFemale} @self ~onSpawn
pig_summon:
  Conditions:  
  - world{w=world_islands} true
  Skills:
  - randomskill{skills=AoF_SummonPigMale,AoF_SummonPigFemale,AoF_SummonSpottedPigMale,AoF_SummonSpottedPigFemale} @self ~onSpawn
sheep_summon:
  Conditions:  
  - world{w=world_islands} true
  Skills:
  - randomskill{skills=AoF_SummonSheepMale,AoF_SummonSheepFemale} @self ~onSpawn

AoF_SummonDairyCowMale:
  Skills:
  - summon{t=pb_aof_dairy_cow_male;amount=1;radius=0} @self
AoF_SummonDairyCowFemale:
  Skills:
  - summon{t=pb_aof_dairy_cow_female;amount=1;radius=0} @self
AoF_SummonBrownCowMale:
  Skills:
  - summon{t=pb_aof_brown_cow_male;amount=1;radius=0} @self
AoF_SummonBrownCowFemale:
  Skills:
  - summon{t=pb_aof_brown_cow_female;amount=1;radius=0} @self
AoF_SummonWhiteHen:
  Skills:
  - summon{t=pb_aof_hen_white;amount=1;radius=0} @self
AoF_SummonWhiteRooster:
  Skills:
  - summon{t=pb_aof_rooster_white;amount=1;radius=0} @self
AoF_SummonBrownHen:
  Skills:
  - summon{t=pb_aof_hen_brown;amount=1;radius=0} @self
AoF_SummonBrownRooster:
  Skills:
  - summon{t=pb_aof_rooster_brown;amount=1;radius=0} @self
AoF_SummonSheepMale:
  Skills:
  - summon{t=pb_aof_sheep_male;amount=1;radius=0} @self
AoF_SummonSheepFemale:
  Skills:
  - summon{t=pb_aof_sheep_female;amount=1;radius=0} @self
AoF_SummonPigMale:
  Skills:
  - summon{t=pb_aof_pig_male;amount=1;radius=0} @self
AoF_SummonPigFemale:
  Skills:
  - summon{t=pb_aof_pig_female;amount=1;radius=0} @self
AoF_SummonSpottedPigMale:
  Skills:
  - summon{t=pb_aof_spotted_pig_male;amount=1;radius=0} @self
AoF_SummonSpottedPigFemale:
  Skills:
  - summon{t=pb_aof_spotted_pig_female;amount=1;radius=0} @self
  
##======[Shearing & Grazing]=======
AoF_Sheep_Shear:
  TriggerConditions:
  - holding{m=SHEARS}
  Conditions:
  - hastag{t=sheared} orElseCast AoF_Sheep_Shear_Pass
  Skills:
  #- CancelEvent
  - skill{s=Hyronic_CancelEvent;sync=true}

AoF_Sheep_Shear_Pass:
  Skills:
  #- CancelEvent
  - skill{s=Hyronic_CancelEvent;sync=true}
  - addtag{t=sheared} @self
  - sound{s=entity.sheep.shear} @self
  - partvisibility{p=head_wool;v=false} @self
  - partvisibility{p=body_wool;v=false} @self
  - dropitem{i=wool} @self

AoF_Sheep_Graze:
  Conditions:
  - hastag{t=sheared}
  - onblock{m=GRASS_BLOCK}
  Skills:
  - state{s=graze;li=0;lo=3} @self
  - stun{d=30;ai=true} @self
  - delay 8
  - removetag{t=sheared} @self
  - sound{s=block.grass.break} @self
  - partvisibility{p=head_wool;v=true} @self
  - partvisibility{p=body_wool;v=true} @self

##======[Egg Laying]=======
AoF_Chicken_LayEgg:
  Cooldown: 300
  Skills:
  - sound{s=entity.chicken.egg} @self
  - dropitem{i=egg} @self

##======[Milking]=======
AoF_Cow_Milk:
  TriggerConditions:
  - holding{m=BUCKET}
  Skills:
  - sound{s=entity.cow.milk} @self
  - consumeslot{slot=HAND;amount=1} @trigger
  - giveitem{i=MILK_BUCKET} @trigger



#############################################################################################################################

#----------- Attack -----------#

Nocsy_KingdomCat_Attack:
  Conditions:
  - hastag{t=attack} false
  Skills:
  - addtag{t=attack} @self
  - state{s=attack;li=0;lo=0;speed=1} @self
  - delay 15
  - potion{type=SLOW;duration=20;lvl=126;hasParticles=false;force=true} @self
  - damage{a=1} @target
  - removetag{t=attack} @self

Nocsy_KingdomCat_PrepareAttack:
  Conditions:
  - hastag{t=animating} false
  - hastag{t=attacking} false
  - hastag{t=sit} castInstead Nocsy_KingdomCat_Attack-Sit-Stand
  - hastag{t=sleepy} castInstead Nocsy_KingdomCat_Attack-Sleep-Stand
  Skills:
  - addtag{t=animating} @self
  - addtag{t=attacking} @self
  - potion{type=SLOW;duration=40;lvl=126;hasParticles=false;force=true} @self
  - state{s=prepare_attack;li=0;lo=0;speed=1} @self
  - delay 42
  #- petfollow{follow=false} @self
  - removetag{t=animating} @self

Nocsy_KingdomCat_PrepareAttack-Sit-Stand:
  Skills:
  - skill{s=Nocsy_KingdomCat_Interact-Sit-Stand}
  - delay 7
  - skill{s=Nocsy_KingdomCat_PrepareAttack}

Nocsy_KingdomCat_PrepareAttack-Sleep-Stand:
  Skills:
  - skill{s=Nocsy_KingdomCat_Interact-Sleep-Stand}
  - delay 54
  - skill{s=Nocsy_KingdomCat_PrepareAttack}

#----------- Stretch -----------#

Nocsy_KingdomCat_Stretch:
  Conditions:
  - hastag{t=attacking} false
  - hastag{t=animating} false
  - hastag{t=sleep} false
  - hastag{t=sit} false
  - hastag{t=stretch} false
  Skills:
  - addtag{t=animating} @self
  - addtag{t=stretch} @self
  - state{s=stretch;li=0;lo=0;speed=1} @self
  - setAI{ai=false} @self
  - potion{type=SLOW;duration=44;lvl=126;hasParticles=false;force=true} @self
  - delay 20
  - skill{s=Nocsy_KingdomCat_Sound_Purr}
  - delay 24
  - setAI{ai=true} @self
  - removetag{t=animating} @self
  - delay 600
  - removetag{t=stretch} @self

#----------- Follow back -----------#

Nocsy_KingdomCat_FollowBack:
  Skills:
  - removetag{t=attacking} @self
  #- petfollow{follow=true} @self

#----------- Sit/Sleep -----------#

Nocsy_KingdomCat_Interact:
  Conditions:
  - hastag{t=animating} false
  - hastag{t=sleep} castInstead Nocsy_KingdomCat_Interact-Sleep-Stand
  - hastag{t=sit} castInstead Nocsy_KingdomCat_Interact-Sit-Stand
  - night{} castInstead Nocsy_KingdomCat_Sleep
  Skills:
  - addtag{t=animating} @self
  - addtag{t=sit} @self
  - skill{s=Nocsy_KingdomCat_Sound_Ambient}
  - potion{type=SLOW;duration=2147483646;lvl=126;hasParticles=false;force=true} @self
  - state{s=sit_start;li=0;lo=0;speed=1} @self
  - delay 7
  - state{s=sit_loop;li=0;lo=0;speed=1} @self
  - removetag{t=animating} @self
  

Nocsy_KingdomCat_Interact-Sleep-Stand:
  Skills:
  - setAI{ai=true} @self
  - addtag{t=animating} @self
  - state{s=sleep_loop;remove=true} @self
  - state{s=sleep_end;li=0;lo=0;speed=1} @self
  - potion{type=SLOW;duration=8;lvl=126;hasParticles=false;force=true} @self
  - delay 10
  - removetag{t=animating} @self
  - removetag{t=sleep} @self
  - skill{s=Nocsy_KingdomCat_Stretch}

Nocsy_KingdomCat_Interact-Sit-Stand:
  Skills:
  - addtag{t=animating} @self
  - state{s=sit_loop;remove=true} @self
  - state{s=sit_end;li=0;lo=0;speed=1} @self
  - potion{type=SLOW;duration=5;lvl=126;hasParticles=false;force=true} @self
  - delay 7
  - removetag{t=animating} @self
  - removetag{t=sit} @self

Nocsy_KingdomCat_Sleep:
  Skills:
  - addtag{t=animating} @self
  - addtag{t=sleep} @self
  - setAI{ai=false} @self
  - potion{type=SLOW;duration=2147483646;lvl=126;hasParticles=false;force=true} @self
  - state{s=sleep_start;li=0;lo=0;speed=1} @self
  - delay 5
  - state{s=sleep_loop;li=0;lo=0;speed=1} @self
  - removetag{t=animating} @self
  

#----------- Sounds -----------#
Nocsy_KingdomCat_Sound_Ambient:
  Conditions:
  - hastag{t=sound} false
  - hastag{t=ambient_sound} false
  Skills:
  - addtag{t=ambient_sound} @self
  - sound{s=entity.cat.stray_ambient;v=1;p=1.3} @self
  - delay 300
  - removetag{t=ambient_sound} @self

Nocsy_KingdomCat_Sound_Purr:
  Conditions:
  - hastag{t=sound} false
  Skills:
  - addtag{t=sound} @self
  - sound{s=entity.cat.purr;v=1;p=1} @self
  - delay 40
  - removetag{t=sound} @self

Nocsy_KingdomCat_Sound_Hurt:
  Conditions:
  - hastag{t=sound} false
  Skills:
  - addtag{t=sound} @self
  - sound{s=entity.cat.hurt;v=1;p=1.3} @self
  - delay 40
  - removetag{t=sound} @self

############################################
#              Thread ball                 #
############################################

#----------- Attacked -----------#
Nocsy_KingdomCat_Thread_Roll:
  Conditions:
  - hastag{t=move} false
  - moving{} true
  Skills:
  - addtag{t=move} @self
  - state{s=move;li=0;lo=0;speed=1} @self
  - delay 23
  - removetag{t=move} @self
  
#----------- Throw ball -----------#
Nocsy_KingdomCat_Thread_Signal:
  Conditions:
  - hastag{t=lag} false
  - hastag{t=attacking} castInstead Nocsy_KingdomCat_Thread_Throw-Already
  Skills:
  - addtag{t=lag} @self
  - sudoskill{s=Nocsy_KingdomCat_Thread_Projectile} @owner
  - delay 80
  - removetag{t=lag} @self

Nocsy_KingdomCat_Thread_Projectile:
  Skills:
  - sound{s=entity.arrow.shoot;v=1;p=0.6} @self
  - projectile{
                bulletType=MOB;
                mob=Nocsy_Cat-ThreadBall;
                onTick=[
                        - effect:particles{particle=reddust;
                                             amount=3;
                                             hS=0.2;
                                             vS=0.2;
                                             speed=0.8;
                                             color=#F42525
                                            }
                        ];
                onHit=[];
                onEnd=[
                        - summon{type=Nocsy_Cat-ThreadBall;amount=1;radius=0;onSurface=true;inheritFaction=true} 
                      ];
                i=1;
                hRadius=1.0;
                vRadius=4.5;
                v=8;
                g=1;
                syo=1.6;
                hO=-20;
                hp=false;
                hnp=false;
                sE=false;
            } @Forward{f=20;y=1;sideOffset=0.0}
 
Nocsy_KingdomCat_Thread_Throw-Already:
  Conditions:
  - hastag{t=lag} false
  Skills:
  - addtag{t=lag} @self
  - delay 20
  - removetag{t=lag} @self
 
#----------- Remove ball -----------#

Nocsy_KingdomCat_Thread_Remove-Force:
  Skills:
  - effect:particlesphere{particle=reddust;
                     amount=40;
                     r=0.4;
                     color=#F42525
                    } @self
  - remove @self

Nocsy_KingdomCat_Thread_Remove:
  Conditions:
  - varEquals{var=caster.count_attacks;value=10} true
  Skills:
  - skill{s=Nocsy_KingdomCat_Thread_Remove-Force}

#----------- VFX -----------#

Nocsy_KingdomCat_Thread_Effect:
  Skills:
  - effect:particles{particle=reddust;
                     amount=3;
                     hS=0.2;
                     vS=0.2;
                     speed=0.8;
                     color=#F42525
                    } @self


#----------- Damaged move -----------#

Nocsy_KingdomCat_Thread_Damaged:
  Conditions:
  - hastag{t=damaged} false
  Skills:
  - addtag{t=damaged} @self
  - randomskill{skills=[
                        - lunge{velocity=0.7;velocityY=0.4} @Forward{f=10;y=4;sideOffset=1}
                        ],
                        [
                        - lunge{velocity=0.6;velocityY=0.4} @Forward{f=-12;y=4;sideOffset=6}
                        ],
                        [
                        - lunge{velocity=0.5;velocityY=0.4} @Forward{f=-8;y=4;sideOffset=-4}
                        ],
                        [
                        - lunge{velocity=0.7;velocityY=0.3} @Forward{f=4;y=4;sideOffset=6}
                        ],
                        [
                        - lunge{velocity=0.7;velocityY=0.3} @Forward{f=-2;y=4;sideOffset=1}
                        ],
                        [
                        - lunge{velocity=0.6;velocityY=0.3} @Forward{f=8;y=4;sideOffset=9}
                        ],
                        [
                        - lunge{velocity=0.7;velocityY=0.3} @Forward{f=-9;y=4;sideOffset=-7}
                        ]
                }
  - variableadd{var=caster.count_attacks;amount=1} @self
  - skill{s=Nocsy_KingdomCat_Thread_Remove} @self
  - delay 20
  - removetag{t=damaged} @self

#----------- Summon -------------#

Summon_cats:
  Skills:
  - summon{t=nocsy_cat1;amount=1;radius=0} @self

Summon_cats1:
  Skills:
  - summon{t=nocsy_cat1;amount=1;radius=0} @self

Summon_cats2:
  Skills:
  - summon{t=nocsy_cat2;amount=1;radius=0} @self

Summon_cats3:
  Skills:
  - summon{t=nocsy_cat2;amount=1;radius=0} @self

Summon_cats4:
  Skills:
  - summon{t=nocsy_cat2;amount=1;radius=0} @self

Summon_cats5:
  Skills:
  - summon{t=nocsy_cat2;amount=1;radius=0} @self

Summon_cats6:
  Skills:
  - summon{t=nocsy_cat2;amount=1;radius=0} @self

Summon_cats7:
  Skills:
  - summon{t=nocsy_cat2;amount=1;radius=0} @self

Summon_cats8:
  Skills:
  - summon{t=nocsy_cat3;amount=1;radius=0} @self

Summon_cats9:
  Skills:
  - summon{t=nocsy_cat3;amount=1;radius=0} @self

Summon_cats10:
  Skills:
  - summon{t=nocsy_cat3;amount=1;radius=0} @self

Summon_cats11:
  Skills:
  - summon{t=nocsy_cat3;amount=1;radius=0} @self

Summon_cats12:
  Skills:
  - summon{t=nocsy_cat3;amount=1;radius=0} @self

Summon_cats13:
  Skills:
  - summon{t=nocsy_cat3;amount=1;radius=0} @self

Summon_cats14:
  Skills:
  - summon{t=nocsy_cat3;amount=1;radius=0} @self

Summon_cats14:
  Skills:
  - summon{t=nocsy_cat3;amount=1;radius=0} @self

Summon_cats15:
  Skills:
  - summon{t=nocsy_cat3;amount=1;radius=0} @self

Summon_cats16:
  Skills:
  - summon{t=nocsy_cat4;amount=1;radius=0} @self

Summon_cats17:
  Skills:
  - summon{t=nocsy_cat4;amount=1;radius=0} @self

Summon_cats18:
  Skills:
  - summon{t=nocsy_cat4;amount=1;radius=0} @self

Summon_cats19:
  Skills:
  - summon{t=nocsy_cat4;amount=1;radius=0} @self

Summon_cats20:
  Skills:
  - summon{t=nocsy_cat4;amount=1;radius=0} @self

Summon_cats21:
  Skills:
  - summon{t=nocsy_cat4;amount=1;radius=0} @self

Summon_cats22:
  Skills:
  - summon{t=nocsy_cat4;amount=1;radius=0} @self

Summon_cats23:
  Skills:
  - summon{t=nocsy_cat5;amount=1;radius=0} @self

Summon_cats24:
  Skills:
  - summon{t=nocsy_cat5;amount=1;radius=0} @self

Summon_cats25:
  Skills:
  - summon{t=nocsy_cat5;amount=1;radius=0} @self

Summon_cats26:
  Skills:
  - summon{t=nocsy_cat5;amount=1;radius=0} @self

Summon_cats27:
  Skills:
  - summon{t=nocsy_cat5;amount=1;radius=0} @self

Summon_cats28:
  Skills:
  - summon{t=nocsy_cat5;amount=1;radius=0} @self

Summon_cats29:
  Skills:
  - summon{t=nocsy_cat5;amount=1;radius=0} @self

Summon_cats30:
  Skills:
  - summon{t=nocsy_cat6;amount=1;radius=0} @self

Summon_cats31:
  Skills:
  - summon{t=nocsy_cat6;amount=1;radius=0} @self

Summon_cats32:
  Skills:
  - summon{t=nocsy_cat6;amount=1;radius=0} @self

Summon_cats33:
  Skills:
  - summon{t=nocsy_cat6;amount=1;radius=0} @self

Summon_cats34:
  Skills:
  - summon{t=nocsy_cat6;amount=1;radius=0} @self

Summon_cats35:
  Skills:
  - summon{t=nocsy_cat6;amount=1;radius=0} @self

Summon_cats36:
  Skills:
  - summon{t=nocsy_cat6;amount=1;radius=0} @self

Summon_cats37:
  Skills:
  - summon{t=nocsy_cat6;amount=1;radius=0} @self

Summon_cats38:
  Skills:
  - summon{t=nocsy_cat_fallen;amount=1;radius=0} @self